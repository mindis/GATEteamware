version: '2'
services:
  db:
      image: mysql
      container_name: gatedb
      restart: always
      environment:
          MYSQL_ROOT_PASSWORD: somepassword
          #MYSQL_USER: gate
          #MYSQL_PASSWORD: gate
          HOSTNAME: gatedb
  gate:
    build: .
    container_name: gateapp
    #volumes:
    # - .:/code
    environment:
        MYSQL_USER: root
        MYSQL_PASSWORD: somepassword
        HOSTNAME: gateapp
    depends_on:
      - db
    links:
      - db
    ports:
      - "8080:8080"
    #restart: always
    tty: true
    stdin_open: true
